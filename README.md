# Video Downloader Telegram Bot

Telegram бот для скачивания видео из:
- Instagram Reels
- TikTok
- YouTube Shorts

## Возможности

- Обработка видео-ссылок через Telegram
- Скачивание видео без использования эмуляторов
- Улучшенный метод скачивания YouTube видео с обходом ограничений
- Скачивание видео из Instagram и TikTok
- Отправка обработанных видео пользователю
- Поддержка различных форматов ссылок

## Установка

1. Клонируйте репозиторий
2. Создайте виртуальное окружение: `python3 -m venv venv`
3. Активируйте виртуальное окружение: `source venv/bin/activate`
4. Установите зависимости: `pip install -r requirements.txt`
5. Создайте файл `.env` с токеном Telegram бота:
   ```
   BOT_TOKEN=your_telegram_bot_token
   DOWNLOAD_PATH=downloads
   TEMP_PATH=temp
   MAX_FILE_SIZE_MB=50
   ```

## Запуск

```bash
source venv/bin/activate
python simple_bot.py
```

## Требования

- Python 3.9+
- Библиотеки: 
  - telepot - для работы с Telegram API
  - yt-dlp (версия 2025.3.21+) - для скачивания видео с различных платформ
  - pytube - альтернативный метод для YouTube
  - python-dotenv - для работы с переменными окружения
  - requests - для HTTP запросов
  - urllib3 - для работы с URL и SSL

## Использование

1. Найдите бота в Telegram
2. Отправьте команду `/start`
3. Отправьте ссылку на видео из Instagram Reels, TikTok или YouTube Shorts
4. Бот скачает и отправит вам видео

## Особенности работы

- Бот использует последнюю версию yt-dlp для надежного скачивания видео
- Отключена проверка SSL сертификатов для обхода проблем с сертификатами
- Многоуровневый подход к скачиванию: если основной метод не работает, бот автоматически переключается на альтернативные методы
- Обработка различных форматов ссылок (полные URL, сокращенные ссылки и т.д.)
- Проверка размера скачанного файла для предотвращения загрузки превью вместо полного видео

## Устранение неполадок

Если видео не скачивается:
- Убедитесь, что у вас установлена последняя версия yt-dlp: `pip install -U yt-dlp`
- Проверьте правильность ссылки и ее доступность
- Некоторые видео могут быть защищены от скачивания или требовать авторизации
- В некоторых случаях YouTube может временно блокировать доступ к видео 